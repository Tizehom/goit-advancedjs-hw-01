{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst feedbackForm = document.querySelector('.feedback-form');\nconst STORAGE_KEY = 'feedback-form-state';\n\nsavedTextarea();\n\nfeedbackForm.addEventListener('input', throttle(saveFormData, 500));\n\nfeedbackForm.addEventListener('submit', onFormSubmit);\n\nfunction saveFormData() {\n  const formData = {\n    email: feedbackForm.elements.email.value,\n    message: feedbackForm.elements.message.value,\n  };\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction savedTextarea() {\n  const savedData = localStorage.getItem(STORAGE_KEY);\n\n  if (savedData) {\n    const formData = JSON.parse(savedData);\n    feedbackForm.elements.email.value = formData.email;\n    feedbackForm.elements.message.value = formData.message;\n  }\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const email = feedbackForm.elements.email.value;\n  const message = feedbackForm.elements.message.value;\n\n  console.log({ email, message });\n\n  localStorage.removeItem(STORAGE_KEY);\n  feedbackForm.reset();\n}\n"],"names":["feedbackForm","STORAGE_KEY","savedTextarea","throttle","saveFormData","onFormSubmit","formData","savedData","event","email","message"],"mappings":"wIAEA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAc,sBAEpBC,IAEAF,EAAa,iBAAiB,QAASG,EAASC,EAAc,GAAG,CAAC,EAElEJ,EAAa,iBAAiB,SAAUK,CAAY,EAEpD,SAASD,GAAe,CACtB,MAAME,EAAW,CACf,MAAON,EAAa,SAAS,MAAM,MACnC,QAASA,EAAa,SAAS,QAAQ,KAC3C,EAEE,aAAa,QAAQC,EAAa,KAAK,UAAUK,CAAQ,CAAC,CAC5D,CAEA,SAASJ,GAAgB,CACvB,MAAMK,EAAY,aAAa,QAAQN,CAAW,EAElD,GAAIM,EAAW,CACb,MAAMD,EAAW,KAAK,MAAMC,CAAS,EACrCP,EAAa,SAAS,MAAM,MAAQM,EAAS,MAC7CN,EAAa,SAAS,QAAQ,MAAQM,EAAS,OAChD,CACH,CAEA,SAASD,EAAaG,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAQT,EAAa,SAAS,MAAM,MACpCU,EAAUV,EAAa,SAAS,QAAQ,MAE9C,QAAQ,IAAI,CAAE,MAAAS,EAAO,QAAAC,CAAS,CAAA,EAE9B,aAAa,WAAWT,CAAW,EACnCD,EAAa,MAAK,CACpB"}